import matplotlib.pyplot as plt
import numpy as np
import pandas as pd


neighborhoods = ["Downtown", "Over-the-Rhine", "Walnut Hills", "Westwood", "Avondale", "Price Hill", "Clifton", "Mt. Auburn"]
rainfall = np.random.uniform(1, 4, len(neighborhoods))
overflows = np.random.randint(5, 50, len(neighborhoods))
vulnerability_score = (rainfall * 10 + overflows) / 2

df = pd.DataFrame({
    "Neighborhood": neighborhoods,
    "Vulnerability Score": vulnerability_score
})

plt.figure(figsize=(10, 6))
bars = plt.bar(df["Neighborhood"], df["Vulnerability Score"], color=plt.cm.Reds(df["Vulnerability Score"] / df["Vulnerability Score"].max()))
plt.title("Cincinnati Infrastructure Vulnerability Index", fontsize=14)
plt.xlabel("Neighborhood")
plt.ylabel("Vulnerability Score (Flood + Sewer Risk)")
plt.xticks(rotation=30, ha="right")
plt.tight_layout()
plt.savefig('images/vulnerability_index.png')
plt.show()